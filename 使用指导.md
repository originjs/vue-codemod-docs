# vue-codemod



## 介绍

`vue-codemod` 是一个 `Vue2` 升级 `Vue3` 的语法转换工具，能将绝大多数 `Vue2` 语法直接升级成 `Vue3` 语法，然后通过少量的手动修改完成 `Vue2` 到 `Vue3` 的平滑迁移。



> 注意⚠️：由于[官方仓库](https://github.com/vuejs/vue-codemod)已经有段时间没有维护了，下面的地址是官方的`fork`仓库，我们正在该仓库上继续开发新特性

仓库地址：https://github.com/originjs/vue-codemod





## 转化率



### 数据



### 计算方式





## 使用指引



### 安装

> 正式版本发布时更推荐使用 `npm/yarn` 方式，如果你更想尝鲜，可以使用 `clone` 本地安装方式



+ `npm/yarn` 方式

``` bash
npm install @originjs/vue-codemod -g
//or
yarn global add @originjs/vue-codemod
```

<br>

+ `clone` 安装方式

<br>

1. 从 `github clone` 代码

``` bash
git clone https://github.com/originjs/vue-codemod
```
<br>
2. 安装依赖

``` bash
cd vue-codemod

npm install
//or
yarn install
```
<br>
3. 全局安装

```bash
npm run build
npm install . -g
//or
yarn run build
yarn global add .
```



### 使用

`vue-codemod` 是由一条条转换规则组成，这些转换规则位于 `transformation/index.ts` 和 `vue-transformation/index.ts` 下。

<br>

``` bash
npx vue-codemod <path> -t/-a <transformation params][...additional options]
```

1. <path > 表示执行的路径，可以是文件和文件夹
2. `-t` 表示具体的规则，使用 `-t` 时 `transformation param` 不可省略，`-a` 表示所有规则



+ 执行所有规则

``` bash
npx vue-codemod src -a
```

`src` 指定的是扫描的文件路径，`-a` 表示执行所有的规则转换



+ 执行单条规则

```bash
npx vue-codemod src -t new-global-api
```

`src` 指定的是扫描的文件路径，`-t new-global-api` 表示只执行 `new-global-api` 这条规则。

详细的规则列表在请点击此处



+ 帮助

```bash
npx vue-codemod --help
```



结果如下所示

```bash
npx vue-codemod --help
Usage: vue-codemod [file pattern]

Options:
  -t, --transformation        Name or path of the transformation module [string]
  -p, --params                Custom params to the transformation
  -a, --runAllTransformation  run all transformation module            [boolean]
  -h, --help                  Show help                                [boolean]
  -v, --version               Show version number                      [boolean]

Examples:
  npx vue-codemod ./src -a                  Run all rules to convert all
                                            relevant files in the ./src folder
  npx vue-codemod                           Run slot-attribute rule to convert
  ./src/components/HelloWorld.vue -t        HelloWorld.vue
  slot-attribute
```


